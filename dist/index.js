(()=>{var Fe=Object.create;var le=Object.defineProperty;var Ue=Object.getOwnPropertyDescriptor;var Je=Object.getOwnPropertyNames;var Ke=Object.getPrototypeOf,Xe=Object.prototype.hasOwnProperty;var Ge=(l,v)=>()=>(v||l((v={exports:{}}).exports,v),v.exports);var ze=(l,v,g,P)=>{if(v&&typeof v=="object"||typeof v=="function")for(let E of Je(v))!Xe.call(l,E)&&E!==g&&le(l,E,{get:()=>v[E],enumerable:!(P=Ue(v,E))||P.enumerable});return l};var Ve=(l,v,g)=>(g=l!=null?Fe(Ke(l)):{},ze(v||!l||!l.__esModule?le(g,"default",{value:l,enumerable:!0}):g,l));var pe=Ge((Y,Q)=>{(function(l,v){typeof Y=="object"&&typeof Q<"u"?Q.exports=v():typeof define=="function"&&define.amd?define(v):(l=l||self).barba=v()})(Y,function(){function l(o,r){for(var e=0;e<r.length;e++){var t=r[e];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(o,t.key,t)}}function v(o,r,e){return r&&l(o.prototype,r),e&&l(o,e),o}function g(){return(g=Object.assign||function(o){for(var r=1;r<arguments.length;r++){var e=arguments[r];for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(o[t]=e[t])}return o}).apply(this,arguments)}function P(o,r){o.prototype=Object.create(r.prototype),o.prototype.constructor=o,o.__proto__=r}function E(o){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)})(o)}function N(o,r){return(N=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(o,r)}function ee(o,r,e){return(ee=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}()?Reflect.construct:function(t,n,i){var a=[null];a.push.apply(a,n);var c=new(Function.bind.apply(t,a));return i&&N(c,i.prototype),c}).apply(null,arguments)}function te(o){var r=typeof Map=="function"?new Map:void 0;return(te=function(e){if(e===null||Function.toString.call(e).indexOf("[native code]")===-1)return e;if(typeof e!="function")throw new TypeError("Super expression must either be null or a function");if(r!==void 0){if(r.has(e))return r.get(e);r.set(e,t)}function t(){return ee(e,arguments,E(this).constructor)}return t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),N(t,e)})(o)}function I(o,r){try{var e=o()}catch(t){return r(t)}return e&&e.then?e.then(void 0,r):e}typeof Symbol<"u"&&(Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator"))),typeof Symbol<"u"&&(Symbol.asyncIterator||(Symbol.asyncIterator=Symbol("Symbol.asyncIterator")));var q,ve="2.9.7",me=function(){};(function(o){o[o.off=0]="off",o[o.error=1]="error",o[o.warning=2]="warning",o[o.info=3]="info",o[o.debug=4]="debug"})(q||(q={}));var re=q.off,L=function(){function o(e){this.t=e}o.getLevel=function(){return re},o.setLevel=function(e){return re=q[e]};var r=o.prototype;return r.error=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.i(console.error,q.error,t)},r.warn=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.i(console.warn,q.warning,t)},r.info=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.i(console.info,q.info,t)},r.debug=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.i(console.log,q.debug,t)},r.i=function(e,t,n){t<=o.getLevel()&&e.apply(console,["["+this.t+"] "].concat(n))},o}(),_=X,ge=oe,ye=J,we=ie,be=ae,ne="/",Pe=new RegExp(["(\\\\.)","(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?"].join("|"),"g");function J(o,r){for(var e,t=[],n=0,i=0,a="",c=r&&r.delimiter||ne,h=r&&r.whitelist||void 0,s=!1;(e=Pe.exec(o))!==null;){var u=e[0],d=e[1],f=e.index;if(a+=o.slice(i,f),i=f+u.length,d)a+=d[1],s=!0;else{var p="",m=e[2],y=e[3],S=e[4],b=e[5];if(!s&&a.length){var j=a.length-1,R=a[j];(!h||h.indexOf(R)>-1)&&(p=R,a=a.slice(0,j))}a&&(t.push(a),a="",s=!1);var x=y||S,w=p||c;t.push({name:m||n++,prefix:p,delimiter:w,optional:b==="?"||b==="*",repeat:b==="+"||b==="*",pattern:x?Ee(x):"[^"+A(w===c?w:w+c)+"]+?"})}}return(a||i<o.length)&&t.push(a+o.substr(i)),t}function oe(o,r){return function(e,t){var n=o.exec(e);if(!n)return!1;for(var i=n[0],a=n.index,c={},h=t&&t.decode||decodeURIComponent,s=1;s<n.length;s++)if(n[s]!==void 0){var u=r[s-1];c[u.name]=u.repeat?n[s].split(u.delimiter).map(function(d){return h(d,u)}):h(n[s],u)}return{path:i,index:a,params:c}}}function ie(o,r){for(var e=new Array(o.length),t=0;t<o.length;t++)typeof o[t]=="object"&&(e[t]=new RegExp("^(?:"+o[t].pattern+")$",K(r)));return function(n,i){for(var a="",c=i&&i.encode||encodeURIComponent,h=!i||i.validate!==!1,s=0;s<o.length;s++){var u=o[s];if(typeof u!="string"){var d,f=n?n[u.name]:void 0;if(Array.isArray(f)){if(!u.repeat)throw new TypeError('Expected "'+u.name+'" to not repeat, but got array');if(f.length===0){if(u.optional)continue;throw new TypeError('Expected "'+u.name+'" to not be empty')}for(var p=0;p<f.length;p++){if(d=c(f[p],u),h&&!e[s].test(d))throw new TypeError('Expected all "'+u.name+'" to match "'+u.pattern+'"');a+=(p===0?u.prefix:u.delimiter)+d}}else if(typeof f!="string"&&typeof f!="number"&&typeof f!="boolean"){if(!u.optional)throw new TypeError('Expected "'+u.name+'" to be '+(u.repeat?"an array":"a string"))}else{if(d=c(String(f),u),h&&!e[s].test(d))throw new TypeError('Expected "'+u.name+'" to match "'+u.pattern+'", but got "'+d+'"');a+=u.prefix+d}}else a+=u}return a}}function A(o){return o.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1")}function Ee(o){return o.replace(/([=!:$/()])/g,"\\$1")}function K(o){return o&&o.sensitive?"":"i"}function ae(o,r,e){for(var t=(e=e||{}).strict,n=e.start!==!1,i=e.end!==!1,a=e.delimiter||ne,c=[].concat(e.endsWith||[]).map(A).concat("$").join("|"),h=n?"^":"",s=0;s<o.length;s++){var u=o[s];if(typeof u=="string")h+=A(u);else{var d=u.repeat?"(?:"+u.pattern+")(?:"+A(u.delimiter)+"(?:"+u.pattern+"))*":u.pattern;r&&r.push(u),h+=u.optional?u.prefix?"(?:"+A(u.prefix)+"("+d+"))?":"("+d+")?":A(u.prefix)+"("+d+")"}}if(i)t||(h+="(?:"+A(a)+")?"),h+=c==="$"?"$":"(?="+c+")";else{var f=o[o.length-1],p=typeof f=="string"?f[f.length-1]===a:f===void 0;t||(h+="(?:"+A(a)+"(?="+c+"))?"),p||(h+="(?="+A(a)+"|"+c+")")}return new RegExp(h,K(e))}function X(o,r,e){return o instanceof RegExp?function(t,n){if(!n)return t;var i=t.source.match(/\((?!\?)/g);if(i)for(var a=0;a<i.length;a++)n.push({name:a,prefix:null,delimiter:null,optional:!1,repeat:!1,pattern:null});return t}(o,r):Array.isArray(o)?function(t,n,i){for(var a=[],c=0;c<t.length;c++)a.push(X(t[c],n,i).source);return new RegExp("(?:"+a.join("|")+")",K(i))}(o,r,e):function(t,n,i){return ae(J(t,i),n,i)}(o,r,e)}_.match=function(o,r){var e=[];return oe(X(o,e,r),e)},_.regexpToFunction=ge,_.parse=ye,_.compile=function(o,r){return ie(J(o,r),r)},_.tokensToFunction=we,_.tokensToRegExp=be;var k={container:"container",history:"history",namespace:"namespace",prefix:"data-barba",prevent:"prevent",wrapper:"wrapper"},C=new(function(){function o(){this.o=k,this.u=new DOMParser}var r=o.prototype;return r.toString=function(e){return e.outerHTML},r.toDocument=function(e){return this.u.parseFromString(e,"text/html")},r.toElement=function(e){var t=document.createElement("div");return t.innerHTML=e,t},r.getHtml=function(e){return e===void 0&&(e=document),this.toString(e.documentElement)},r.getWrapper=function(e){return e===void 0&&(e=document),e.querySelector("["+this.o.prefix+'="'+this.o.wrapper+'"]')},r.getContainer=function(e){return e===void 0&&(e=document),e.querySelector("["+this.o.prefix+'="'+this.o.container+'"]')},r.removeContainer=function(e){document.body.contains(e)&&e.parentNode.removeChild(e)},r.addContainer=function(e,t){var n=this.getContainer();n?this.s(e,n):t.appendChild(e)},r.getNamespace=function(e){e===void 0&&(e=document);var t=e.querySelector("["+this.o.prefix+"-"+this.o.namespace+"]");return t?t.getAttribute(this.o.prefix+"-"+this.o.namespace):null},r.getHref=function(e){if(e.tagName&&e.tagName.toLowerCase()==="a"){if(typeof e.href=="string")return e.href;var t=e.getAttribute("href")||e.getAttribute("xlink:href");if(t)return this.resolveUrl(t.baseVal||t)}return null},r.resolveUrl=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=t.length;if(i===0)throw new Error("resolveUrl requires at least one argument; got none.");var a=document.createElement("base");if(a.href=arguments[0],i===1)return a.href;var c=document.getElementsByTagName("head")[0];c.insertBefore(a,c.firstChild);for(var h,s=document.createElement("a"),u=1;u<i;u++)s.href=arguments[u],a.href=h=s.href;return c.removeChild(a),h},r.s=function(e,t){t.parentNode.insertBefore(e,t.nextSibling)},o}()),se=new(function(){function o(){this.h=[],this.v=-1}var r=o.prototype;return r.init=function(e,t){this.l="barba";var n={ns:t,scroll:{x:window.scrollX,y:window.scrollY},url:e};this.h.push(n),this.v=0;var i={from:this.l,index:0,states:[].concat(this.h)};window.history&&window.history.replaceState(i,"",e)},r.change=function(e,t,n){if(n&&n.state){var i=n.state,a=i.index;t=this.m(this.v-a),this.replace(i.states),this.v=a}else this.add(e,t);return t},r.add=function(e,t){var n=this.size,i=this.p(t),a={ns:"tmp",scroll:{x:window.scrollX,y:window.scrollY},url:e};this.h.push(a),this.v=n;var c={from:this.l,index:n,states:[].concat(this.h)};switch(i){case"push":window.history&&window.history.pushState(c,"",e);break;case"replace":window.history&&window.history.replaceState(c,"",e)}},r.update=function(e,t){var n=t||this.v,i=g({},this.get(n),{},e);this.set(n,i)},r.remove=function(e){e?this.h.splice(e,1):this.h.pop(),this.v--},r.clear=function(){this.h=[],this.v=-1},r.replace=function(e){this.h=e},r.get=function(e){return this.h[e]},r.set=function(e,t){return this.h[e]=t},r.p=function(e){var t="push",n=e,i=k.prefix+"-"+k.history;return n.hasAttribute&&n.hasAttribute(i)&&(t=n.getAttribute(i)),t},r.m=function(e){return Math.abs(e)>1?e>0?"forward":"back":e===0?"popstate":e>0?"back":"forward"},v(o,[{key:"current",get:function(){return this.h[this.v]}},{key:"state",get:function(){return this.h[this.h.length-1]}},{key:"previous",get:function(){return this.v<1?null:this.h[this.v-1]}},{key:"size",get:function(){return this.h.length}}]),o}()),D=function(o,r){try{var e=function(){if(!r.next.html)return Promise.resolve(o).then(function(t){var n=r.next;if(t){var i=C.toElement(t);n.namespace=C.getNamespace(i),n.container=C.getContainer(i),n.html=t,se.update({ns:n.namespace});var a=C.toDocument(t);document.title=a.title}})}();return Promise.resolve(e&&e.then?e.then(function(){}):void 0)}catch(t){return Promise.reject(t)}},ue=_,xe={__proto__:null,update:D,nextTick:function(){return new Promise(function(o){window.requestAnimationFrame(o)})},pathToRegexp:ue},ce=function(){return window.location.origin},B=function(o){return o===void 0&&(o=window.location.href),$(o).port},$=function(o){var r,e=o.match(/:\d+/);if(e===null)/^http/.test(o)&&(r=80),/^https/.test(o)&&(r=443);else{var t=e[0].substring(1);r=parseInt(t,10)}var n,i=o.replace(ce(),""),a={},c=i.indexOf("#");c>=0&&(n=i.slice(c+1),i=i.slice(0,c));var h=i.indexOf("?");return h>=0&&(a=he(i.slice(h+1)),i=i.slice(0,h)),{hash:n,path:i,port:r,query:a}},he=function(o){return o.split("&").reduce(function(r,e){var t=e.split("=");return r[t[0]]=t[1],r},{})},G=function(o){return o===void 0&&(o=window.location.href),o.replace(/(\/#.*|\/|#.*)$/,"")},ke={__proto__:null,getHref:function(){return window.location.href},getOrigin:ce,getPort:B,getPath:function(o){return o===void 0&&(o=window.location.href),$(o).path},parse:$,parseQuery:he,clean:G};function Se(o,r,e){return r===void 0&&(r=2e3),new Promise(function(t,n){var i=new XMLHttpRequest;i.onreadystatechange=function(){if(i.readyState===XMLHttpRequest.DONE){if(i.status===200)t(i.responseText);else if(i.status){var a={status:i.status,statusText:i.statusText};e(o,a),n(a)}}},i.ontimeout=function(){var a=new Error("Timeout error ["+r+"]");e(o,a),n(a)},i.onerror=function(){var a=new Error("Fetch error");e(o,a),n(a)},i.open("GET",o),i.timeout=r,i.setRequestHeader("Accept","text/html,application/xhtml+xml,application/xml"),i.setRequestHeader("x-barba","yes"),i.send()})}var Ae=function(o){return!!o&&(typeof o=="object"||typeof o=="function")&&typeof o.then=="function"};function M(o,r){return r===void 0&&(r={}),function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=!1,a=new Promise(function(c,h){r.async=function(){return i=!0,function(u,d){u?h(u):c(d)}};var s=o.apply(r,t);i||(Ae(s)?s.then(c,h):c(s))});return a}}var T=new(function(o){function r(){var t;return(t=o.call(this)||this).logger=new L("@barba/core"),t.all=["ready","page","reset","currentAdded","currentRemoved","nextAdded","nextRemoved","beforeOnce","once","afterOnce","before","beforeLeave","leave","afterLeave","beforeEnter","enter","afterEnter","after"],t.registered=new Map,t.init(),t}P(r,o);var e=r.prototype;return e.init=function(){var t=this;this.registered.clear(),this.all.forEach(function(n){t[n]||(t[n]=function(i,a){t.registered.has(n)||t.registered.set(n,new Set),t.registered.get(n).add({ctx:a||{},fn:i})})})},e.do=function(t){for(var n=this,i=arguments.length,a=new Array(i>1?i-1:0),c=1;c<i;c++)a[c-1]=arguments[c];if(this.registered.has(t)){var h=Promise.resolve();return this.registered.get(t).forEach(function(s){h=h.then(function(){return M(s.fn,s.ctx).apply(void 0,a)})}),h.catch(function(s){n.logger.debug("Hook error ["+t+"]"),n.logger.error(s)})}return Promise.resolve()},e.clear=function(){var t=this;this.all.forEach(function(n){delete t[n]}),this.init()},e.help=function(){this.logger.info("Available hooks: "+this.all.join(","));var t=[];this.registered.forEach(function(n,i){return t.push(i)}),this.logger.info("Registered hooks: "+t.join(","))},r}(me)),fe=function(){function o(r){if(this.P=[],typeof r=="boolean")this.g=r;else{var e=Array.isArray(r)?r:[r];this.P=e.map(function(t){return ue(t)})}}return o.prototype.checkHref=function(r){if(typeof this.g=="boolean")return this.g;var e=$(r).path;return this.P.some(function(t){return t.exec(e)!==null})},o}(),je=function(o){function r(t){var n;return(n=o.call(this,t)||this).k=new Map,n}P(r,o);var e=r.prototype;return e.set=function(t,n,i){return this.k.set(t,{action:i,request:n}),{action:i,request:n}},e.get=function(t){return this.k.get(t)},e.getRequest=function(t){return this.k.get(t).request},e.getAction=function(t){return this.k.get(t).action},e.has=function(t){return!this.checkHref(t)&&this.k.has(t)},e.delete=function(t){return this.k.delete(t)},e.update=function(t,n){var i=g({},this.k.get(t),{},n);return this.k.set(t,i),i},r}(fe),Re=function(){return!window.history.pushState},Oe=function(o){return!o.el||!o.href},qe=function(o){var r=o.event;return r.which>1||r.metaKey||r.ctrlKey||r.shiftKey||r.altKey},Te=function(o){var r=o.el;return r.hasAttribute("target")&&r.target==="_blank"},Le=function(o){var r=o.el;return r.protocol!==void 0&&window.location.protocol!==r.protocol||r.hostname!==void 0&&window.location.hostname!==r.hostname},_e=function(o){var r=o.el;return r.port!==void 0&&B()!==B(r.href)},Ce=function(o){var r=o.el;return r.getAttribute&&typeof r.getAttribute("download")=="string"},Ie=function(o){return o.el.hasAttribute(k.prefix+"-"+k.prevent)},Me=function(o){return Boolean(o.el.closest("["+k.prefix+"-"+k.prevent+'="all"]'))},He=function(o){var r=o.href;return G(r)===G()&&B(r)===B()},Ne=function(o){function r(t){var n;return(n=o.call(this,t)||this).suite=[],n.tests=new Map,n.init(),n}P(r,o);var e=r.prototype;return e.init=function(){this.add("pushState",Re),this.add("exists",Oe),this.add("newTab",qe),this.add("blank",Te),this.add("corsDomain",Le),this.add("corsPort",_e),this.add("download",Ce),this.add("preventSelf",Ie),this.add("preventAll",Me),this.add("sameUrl",He,!1)},e.add=function(t,n,i){i===void 0&&(i=!0),this.tests.set(t,n),i&&this.suite.push(t)},e.run=function(t,n,i,a){return this.tests.get(t)({el:n,event:i,href:a})},e.checkLink=function(t,n,i){var a=this;return this.suite.some(function(c){return a.run(c,t,n,i)})},r}(fe),z=function(o){function r(e,t){var n;t===void 0&&(t="Barba error");for(var i=arguments.length,a=new Array(i>2?i-2:0),c=2;c<i;c++)a[c-2]=arguments[c];return(n=o.call.apply(o,[this].concat(a))||this).error=e,n.label=t,Error.captureStackTrace&&Error.captureStackTrace(function(h){if(h===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h}(n),r),n.name="BarbaError",n}return P(r,o),r}(te(Error)),Be=function(){function o(e){e===void 0&&(e=[]),this.logger=new L("@barba/core"),this.all=[],this.page=[],this.once=[],this.A=[{name:"namespace",type:"strings"},{name:"custom",type:"function"}],e&&(this.all=this.all.concat(e)),this.update()}var r=o.prototype;return r.add=function(e,t){switch(e){case"rule":this.A.splice(t.position||0,0,t.value);break;case"transition":default:this.all.push(t)}this.update()},r.resolve=function(e,t){var n=this;t===void 0&&(t={});var i=t.once?this.once:this.page;i=i.filter(t.self?function(f){return f.name&&f.name==="self"}:function(f){return!f.name||f.name!=="self"});var a=new Map,c=i.find(function(f){var p=!0,m={};return!(!t.self||f.name!=="self")||(n.A.reverse().forEach(function(y){p&&(p=n.R(f,y,e,m),f.from&&f.to&&(p=n.R(f,y,e,m,"from")&&n.R(f,y,e,m,"to")),f.from&&!f.to&&(p=n.R(f,y,e,m,"from")),!f.from&&f.to&&(p=n.R(f,y,e,m,"to")))}),a.set(f,m),p)}),h=a.get(c),s=[];if(s.push(t.once?"once":"page"),t.self&&s.push("self"),h){var u,d=[c];Object.keys(h).length>0&&d.push(h),(u=this.logger).info.apply(u,["Transition found ["+s.join(",")+"]"].concat(d))}else this.logger.info("No transition found ["+s.join(",")+"]");return c},r.update=function(){var e=this;this.all=this.all.map(function(t){return e.T(t)}).sort(function(t,n){return t.priority-n.priority}).reverse().map(function(t){return delete t.priority,t}),this.page=this.all.filter(function(t){return t.leave!==void 0||t.enter!==void 0}),this.once=this.all.filter(function(t){return t.once!==void 0})},r.R=function(e,t,n,i,a){var c=!0,h=!1,s=e,u=t.name,d=u,f=u,p=u,m=a?s[a]:s,y=a==="to"?n.next:n.current;if(a?m&&m[u]:m[u]){switch(t.type){case"strings":default:var S=Array.isArray(m[d])?m[d]:[m[d]];y[d]&&S.indexOf(y[d])!==-1&&(h=!0),S.indexOf(y[d])===-1&&(c=!1);break;case"object":var b=Array.isArray(m[f])?m[f]:[m[f]];y[f]?(y[f].name&&b.indexOf(y[f].name)!==-1&&(h=!0),b.indexOf(y[f].name)===-1&&(c=!1)):c=!1;break;case"function":m[p](n)?h=!0:c=!1}h&&(a?(i[a]=i[a]||{},i[a][u]=s[a][u]):i[u]=s[u])}return c},r.O=function(e,t,n){var i=0;return(e[t]||e.from&&e.from[t]||e.to&&e.to[t])&&(i+=Math.pow(10,n),e.from&&e.from[t]&&(i+=1),e.to&&e.to[t]&&(i+=2)),i},r.T=function(e){var t=this;e.priority=0;var n=0;return this.A.forEach(function(i,a){n+=t.O(e,i.name,a+1)}),e.priority=n,e},o}(),We=function(){function o(e){e===void 0&&(e=[]),this.logger=new L("@barba/core"),this.S=!1,this.store=new Be(e)}var r=o.prototype;return r.get=function(e,t){return this.store.resolve(e,t)},r.doOnce=function(e){var t=e.data,n=e.transition;try{var i=function(){a.S=!1},a=this,c=n||{};a.S=!0;var h=I(function(){return Promise.resolve(a.j("beforeOnce",t,c)).then(function(){return Promise.resolve(a.once(t,c)).then(function(){return Promise.resolve(a.j("afterOnce",t,c)).then(function(){})})})},function(s){a.S=!1,a.logger.debug("Transition error [before/after/once]"),a.logger.error(s)});return Promise.resolve(h&&h.then?h.then(i):i())}catch(s){return Promise.reject(s)}},r.doPage=function(e){var t=e.data,n=e.transition,i=e.page,a=e.wrapper;try{var c=function(p){if(h)return p;s.S=!1},h=!1,s=this,u=n||{},d=u.sync===!0||!1;s.S=!0;var f=I(function(){function p(){return Promise.resolve(s.j("before",t,u)).then(function(){var y=!1;function S(j){return y?j:Promise.resolve(s.remove(t)).then(function(){return Promise.resolve(s.j("after",t,u)).then(function(){})})}var b=function(){if(d)return I(function(){return Promise.resolve(s.add(t,a)).then(function(){return Promise.resolve(s.j("beforeLeave",t,u)).then(function(){return Promise.resolve(s.j("beforeEnter",t,u)).then(function(){return Promise.resolve(Promise.all([s.leave(t,u),s.enter(t,u)])).then(function(){return Promise.resolve(s.j("afterLeave",t,u)).then(function(){return Promise.resolve(s.j("afterEnter",t,u)).then(function(){})})})})})})},function(w){if(s.M(w))throw new z(w,"Transition error [sync]")});var j=function(w){return y?w:I(function(){var O=function(){if(R!==!1)return Promise.resolve(s.add(t,a)).then(function(){return Promise.resolve(s.j("beforeEnter",t,u)).then(function(){return Promise.resolve(s.enter(t,u,R)).then(function(){return Promise.resolve(s.j("afterEnter",t,u)).then(function(){})})})})}();if(O&&O.then)return O.then(function(){})},function(O){if(s.M(O))throw new z(O,"Transition error [before/after/enter]")})},R=!1,x=I(function(){return Promise.resolve(s.j("beforeLeave",t,u)).then(function(){return Promise.resolve(Promise.all([s.leave(t,u),D(i,t)]).then(function(w){return w[0]})).then(function(w){return R=w,Promise.resolve(s.j("afterLeave",t,u)).then(function(){})})})},function(w){if(s.M(w))throw new z(w,"Transition error [before/after/leave]")});return x&&x.then?x.then(j):j(x)}();return b&&b.then?b.then(S):S(b)})}var m=function(){if(d)return Promise.resolve(D(i,t)).then(function(){})}();return m&&m.then?m.then(p):p()},function(p){throw s.S=!1,p.name&&p.name==="BarbaError"?(s.logger.debug(p.label),s.logger.error(p.error),p):(s.logger.debug("Transition error [page]"),s.logger.error(p),p)});return Promise.resolve(f&&f.then?f.then(c):c(f))}catch(p){return Promise.reject(p)}},r.once=function(e,t){try{return Promise.resolve(T.do("once",e,t)).then(function(){return t.once?M(t.once,t)(e):Promise.resolve()})}catch(n){return Promise.reject(n)}},r.leave=function(e,t){try{return Promise.resolve(T.do("leave",e,t)).then(function(){return t.leave?M(t.leave,t)(e):Promise.resolve()})}catch(n){return Promise.reject(n)}},r.enter=function(e,t,n){try{return Promise.resolve(T.do("enter",e,t)).then(function(){return t.enter?M(t.enter,t)(e,n):Promise.resolve()})}catch(i){return Promise.reject(i)}},r.add=function(e,t){try{return C.addContainer(e.next.container,t),T.do("nextAdded",e),Promise.resolve()}catch(n){return Promise.reject(n)}},r.remove=function(e){try{return C.removeContainer(e.current.container),T.do("currentRemoved",e),Promise.resolve()}catch(t){return Promise.reject(t)}},r.M=function(e){return e.message?!/Timeout error|Fetch error/.test(e.message):!e.status},r.j=function(e,t,n){try{return Promise.resolve(T.do(e,t,n)).then(function(){return n[e]?M(n[e],n)(t):Promise.resolve()})}catch(i){return Promise.reject(i)}},v(o,[{key:"isRunning",get:function(){return this.S},set:function(e){this.S=e}},{key:"hasOnce",get:function(){return this.store.once.length>0}},{key:"hasSelf",get:function(){return this.store.all.some(function(e){return e.name==="self"})}},{key:"shouldWait",get:function(){return this.store.all.some(function(e){return e.to&&!e.to.route||e.sync})}}]),o}(),De=function(){function o(r){var e=this;this.names=["beforeLeave","afterLeave","beforeEnter","afterEnter"],this.byNamespace=new Map,r.length!==0&&(r.forEach(function(t){e.byNamespace.set(t.namespace,t)}),this.names.forEach(function(t){T[t](e.L(t))}))}return o.prototype.L=function(r){var e=this;return function(t){var n=r.match(/enter/i)?t.next:t.current,i=e.byNamespace.get(n.namespace);return i&&i[r]?M(i[r],i)(t):Promise.resolve()}},o}();Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(o){var r=this;do{if(r.matches(o))return r;r=r.parentElement||r.parentNode}while(r!==null&&r.nodeType===1);return null});var $e={container:null,html:"",namespace:"",url:{hash:"",href:"",path:"",port:null,query:{}}};return new(function(){function o(){this.version=ve,this.schemaPage=$e,this.Logger=L,this.logger=new L("@barba/core"),this.plugins=[],this.hooks=T,this.dom=C,this.helpers=xe,this.history=se,this.request=Se,this.url=ke}var r=o.prototype;return r.use=function(e,t){var n=this.plugins;n.indexOf(e)>-1?this.logger.warn("Plugin ["+e.name+"] already installed."):typeof e.install=="function"?(e.install(this,t),n.push(e)):this.logger.warn("Plugin ["+e.name+'] has no "install" method.')},r.init=function(e){var t=e===void 0?{}:e,n=t.transitions,i=n===void 0?[]:n,a=t.views,c=a===void 0?[]:a,h=t.schema,s=h===void 0?k:h,u=t.requestError,d=t.timeout,f=d===void 0?2e3:d,p=t.cacheIgnore,m=p!==void 0&&p,y=t.prefetchIgnore,S=y!==void 0&&y,b=t.preventRunning,j=b!==void 0&&b,R=t.prevent,x=R===void 0?null:R,w=t.debug,O=t.logLevel;if(L.setLevel((w!==void 0&&w)===!0?"debug":O===void 0?"off":O),this.logger.info(this.version),Object.keys(s).forEach(function(W){k[W]&&(k[W]=s[W])}),this.$=u,this.timeout=f,this.cacheIgnore=m,this.prefetchIgnore=S,this.preventRunning=j,this._=this.dom.getWrapper(),!this._)throw new Error("[@barba/core] No Barba wrapper found");this._.setAttribute("aria-live","polite"),this.q();var V=this.data.current;if(!V.container)throw new Error("[@barba/core] No Barba container found");if(this.cache=new je(m),this.prevent=new Ne(S),this.transitions=new We(i),this.views=new De(c),x!==null){if(typeof x!="function")throw new Error("[@barba/core] Prevent should be a function");this.prevent.add("preventCustom",x)}this.history.init(V.url.href,V.namespace),this.B=this.B.bind(this),this.U=this.U.bind(this),this.D=this.D.bind(this),this.F(),this.plugins.forEach(function(W){return W.init()});var H=this.data;H.trigger="barba",H.next=H.current,H.current=g({},this.schemaPage),this.hooks.do("ready",H),this.once(H),this.q()},r.destroy=function(){this.q(),this.H(),this.history.clear(),this.hooks.clear(),this.plugins=[]},r.force=function(e){window.location.assign(e)},r.go=function(e,t,n){var i;if(t===void 0&&(t="barba"),this.transitions.isRunning)this.force(e);else if(!(i=t==="popstate"?this.history.current&&this.url.getPath(this.history.current.url)===this.url.getPath(e):this.prevent.run("sameUrl",null,null,e))||this.transitions.hasSelf)return t=this.history.change(e,t,n),n&&(n.stopPropagation(),n.preventDefault()),this.page(e,t,i)},r.once=function(e){try{var t=this;return Promise.resolve(t.hooks.do("beforeEnter",e)).then(function(){function n(){return Promise.resolve(t.hooks.do("afterEnter",e)).then(function(){})}var i=function(){if(t.transitions.hasOnce){var a=t.transitions.get(e,{once:!0});return Promise.resolve(t.transitions.doOnce({transition:a,data:e})).then(function(){})}}();return i&&i.then?i.then(n):n()})}catch(n){return Promise.reject(n)}},r.page=function(e,t,n){try{var i=function(){var s=a.data;return Promise.resolve(a.hooks.do("page",s)).then(function(){var u=I(function(){var d=a.transitions.get(s,{once:!1,self:n});return Promise.resolve(a.transitions.doPage({data:s,page:c,transition:d,wrapper:a._})).then(function(){a.q()})},function(){L.getLevel()===0&&a.force(s.current.url.href)});if(u&&u.then)return u.then(function(){})})},a=this;a.data.next.url=g({href:e},a.url.parse(e)),a.data.trigger=t;var c=a.cache.has(e)?a.cache.update(e,{action:"click"}).request:a.cache.set(e,a.request(e,a.timeout,a.onRequestError.bind(a,t)),"click").request,h=function(){if(a.transitions.shouldWait)return Promise.resolve(D(c,a.data)).then(function(){})}();return Promise.resolve(h&&h.then?h.then(i):i())}catch(s){return Promise.reject(s)}},r.onRequestError=function(e){this.transitions.isRunning=!1;for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];var a=n[0],c=n[1],h=this.cache.getAction(a);return this.cache.delete(a),!(this.$&&this.$(e,h,a,c)===!1||(h==="click"&&this.force(a),1))},r.prefetch=function(e){var t=this;this.cache.has(e)||this.cache.set(e,this.request(e,this.timeout,this.onRequestError.bind(this,"barba")).catch(function(n){t.logger.error(n)}),"prefetch")},r.F=function(){this.prefetchIgnore!==!0&&(document.addEventListener("mouseover",this.B),document.addEventListener("touchstart",this.B)),document.addEventListener("click",this.U),window.addEventListener("popstate",this.D)},r.H=function(){this.prefetchIgnore!==!0&&(document.removeEventListener("mouseover",this.B),document.removeEventListener("touchstart",this.B)),document.removeEventListener("click",this.U),window.removeEventListener("popstate",this.D)},r.B=function(e){var t=this,n=this.I(e);if(n){var i=this.dom.getHref(n);this.prevent.checkHref(i)||this.cache.has(i)||this.cache.set(i,this.request(i,this.timeout,this.onRequestError.bind(this,n)).catch(function(a){t.logger.error(a)}),"enter")}},r.U=function(e){var t=this.I(e);if(t)return this.transitions.isRunning&&this.preventRunning?(e.preventDefault(),void e.stopPropagation()):void this.go(this.dom.getHref(t),t,e)},r.D=function(e){this.go(this.url.getHref(),"popstate",e)},r.I=function(e){for(var t=e.target;t&&!this.dom.getHref(t);)t=t.parentNode;if(t&&!this.prevent.checkLink(t,e,this.dom.getHref(t)))return t},r.q=function(){var e=this.url.getHref(),t={container:this.dom.getContainer(),html:this.dom.getHtml(),namespace:this.dom.getNamespace(),url:g({href:e},this.url.parse(e))};this.C={current:t,next:g({},this.schemaPage),trigger:void 0},this.hooks.do("reset",this.data)},v(o,[{key:"data",get:function(){return this.C}},{key:"wrapper",get:function(){return this._}}]),o}())})});var U=Ve(pe(),1);window.Webflow||=[];window.Webflow.push(()=>{console.log("hello")});var F="active-flip-item",Z='[data-barba="project-name"]',Ye='[data-barba="project-title"]',de='[data-barba="project-image"]',Qe='[data-barba="project-image-wrap"]';function Ze(l){let P=new DOMParser().parseFromString(l.next.html,"text/html").querySelector("html").getAttribute("data-wf-page");document.documentElement.setAttribute("data-wf-page",P),window.Webflow&&window.Webflow.destroy(),window.Webflow&&window.Webflow.ready(),window.Webflow&&window.Webflow.require("ix2").init()}function et(l){let v=l.next.container.querySelector(Z).textContent;console.log(v),document.querySelectorAll(".w-dyn-item").forEach(g=>{g.querySelector(Z)&&g.querySelector(Z).textContent===v&&(g.classList.add(F),console.log(g))})}function tt(l){let v=l.current.container.querySelector(`.${F}`),g=v.querySelector(de),P=l.next.container.querySelector(de),E=l.next.container.querySelector(Qe);console.log(v,g,P,E);let N=Flip.getState(g);E.insertAdjacentElement("beforeend",g),P.remove(),Flip.from(N,{duration:.8,ease:"power1.inOut"})}U.default.hooks.afterEnter(l=>{window.scrollTo(0,0)});U.default.hooks.after(l=>{l.next.container.classList.remove("fixed"),document.querySelectorAll(`.${F}`).forEach(v=>{v.classList.remove(F)}),window.scrollTo(0,0),Ze(l)});U.default.init({preventRunning:!0,debug:!0,transitions:[{sync:!0,name:"opacity-transition",enter(l){return l.next.container.classList.add("fixed"),gsap.to(l.current.container,{opacity:0,duration:.8}),gsap.from(l.next.container,{opacity:0,duration:.8})}},{sync:!0,name:"to-project",from:{namespace:["home"]},to:{namespace:["project"]},enter(l){return et(l),l.next.container.classList.add("fixed"),tt(l),gsap.from(l.next.container.querySelector(Ye),{opacity:0,y:"2rem",ease:"power2.Out",duration:.6}),gsap.to(l.current.container,{opacity:0,duration:.8})}}]});})();
